<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
<title>
    ğŸ’¤ISpiker
</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
<meta name="author" content="ğŸ’¤ISpiker">
<meta name="description" content="The proof is in the pudding.">
<meta name="keywords" content="The proof is in the pudding.">
<link rel="stylesheet" href="https://hehelv.github.io//media/css/main.css" />
<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet">
<script src="https://hehelv.github.io//media/script/tocbot.min.js"></script>
<script src="https://hehelv.github.io//media/script/script.js"></script>
<!--<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/styles/default.min.css">
<script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/highlight.min.js"></script>-->
<script src="https://cdn.bootcss.com/highlight.js/9.13.1/highlight.min.js"></script>
<link href="https://cdn.bootcss.com/highlight.js/9.13.1/styles/atelier-estuary-dark.min.css" rel="stylesheet">
</head>

<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo">
                <a href="https://hehelv.github.io/">
                    ğŸ’¤ISpiker
                </a>
            </div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/">
                        Home
                    </a>
                    
                    <a class="menu-item" href="/archives">
                        Archives
                    </a>
                    
                    <a class="menu-item" href="/tags">
                        Tags
                    </a>
                    
                    <a class="menu-item" href="/post/about">
                        About
                    </a>
                    
                    <a class="menu-item" href="/tag/algorithm">
                        Algorithm
                    </a>
                    
                    <a class="menu-item" href="/tag/networking">
                        Computer Networking
                    </a>
                    
                    <a class="menu-item" href="/tag/Spider Note">
                        Spider Note
                    </a>
                    
                        <input id="switch_default" type="checkbox" class="switch_default">
                        <label for="switch_default" class="toggleBtn"></label>
            </div>

        </div>
    </nav>

    
        <nav class="navbar-mobile" id="nav-mobile">
            <div class="container">
                <div class="navbar-header">
                    <div>
                        <a href="https://hehelv.github.io/">
                            ğŸ’¤ISpiker
                        </a>
                        <a id="mobile-toggle-theme">&nbsp;Light</a>
                    </div>
                    <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
                </div>
                <div class="menu" id="mobile-menu">
                    
                        <a class="menu-item" href="/">
                            Home
                        </a>
                        
                        <a class="menu-item" href="/archives">
                            Archives
                        </a>
                        
                        <a class="menu-item" href="/tags">
                            Tags
                        </a>
                        
                        <a class="menu-item" href="/post/about">
                            About
                        </a>
                        
                        <a class="menu-item" href="/tag/algorithm">
                            Algorithm
                        </a>
                        
                        <a class="menu-item" href="/tag/networking">
                            Computer Networking
                        </a>
                        
                        <a class="menu-item" href="/tag/Spider Note">
                            Spider Note
                        </a>
                        
                </div>
            </div>
        </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if (toggleMenu.classList.contains("active")) {
            toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        } else {
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
            <div class="main">
                <div class="container">
                    <article class="post-wrap">
                        <header class="post-header">
                            <h1 class="post-title">
                                5-BeautifulSoup4åº“
                            </h1>
                            <div class="post-meta">
                                Author:
                                <a itemprop="author" rel="author" href="/">
                                    ğŸ’¤ISpiker
                                </a>
                                <span class="post-time">
                                Date: <a href="#">2020-02-28</a>
                            </span>
                                
                                    <span class="post-category">
                                Category:
                                
                                <a href="https://hehelv.github.io//tag/Spider Note">Pythonçˆ¬è™«ç¬”è®°</a>
                                
                            </span>
                                    
                            </div>
                        </header>

                        <div class="post-content">
                            <h1 id="5-beautifulsoup4åº“">5-BeautifulSoup4åº“</h1>
<p>å’Œ lxml ä¸€æ ·ï¼ŒBeautiful Soup ä¹Ÿæ˜¯ä¸€ä¸ªHTML/XMLçš„è§£æå™¨ï¼Œä¸»è¦çš„åŠŸèƒ½ä¹Ÿæ˜¯å¦‚ä½•è§£æå’Œæå– HTML/XML æ•°æ®ã€‚<br>
lxml åªä¼šå±€éƒ¨éå†ï¼Œè€ŒBeautiful Soup æ˜¯åŸºäºHTML DOMï¼ˆDocument Object Modelï¼‰çš„ï¼Œä¼šè½½å…¥æ•´ä¸ªæ–‡æ¡£ï¼Œè§£ææ•´ä¸ªDOMæ ‘ï¼Œå› æ­¤æ—¶é—´å’Œå†…å­˜å¼€é”€éƒ½ä¼šå¤§å¾ˆå¤šï¼Œæ‰€ä»¥æ€§èƒ½è¦ä½äºlxmlã€‚<br>
BeautifulSoup ç”¨æ¥è§£æ HTML æ¯”è¾ƒç®€å•ï¼ŒAPIéå¸¸äººæ€§åŒ–ï¼Œæ”¯æŒCSSé€‰æ‹©å™¨ã€Pythonæ ‡å‡†åº“ä¸­çš„HTMLè§£æå™¨ï¼Œä¹Ÿæ”¯æŒ lxml çš„ XMLè§£æå™¨ã€‚<br>
Beautiful Soup 3 ç›®å‰å·²ç»åœæ­¢å¼€å‘ï¼Œæ¨èç°åœ¨çš„é¡¹ç›®ä½¿ç”¨Beautiful Soup 4ã€‚</p>
<h2 id="å®‰è£…å’Œæ–‡æ¡£">å®‰è£…å’Œæ–‡æ¡£ï¼š</h2>
<ol>
<li>å®‰è£…ï¼š<code>pip install bs4</code>ã€‚</li>
<li>ä¸­æ–‡æ–‡æ¡£ï¼šhttps://www.crummy.com/software/BeautifulSoup/bs4/doc/index.zh.html</li>
</ol>
<h2 id="å‡ å¤§è§£æå·¥å…·å¯¹æ¯”">å‡ å¤§è§£æå·¥å…·å¯¹æ¯”ï¼š</h2>
<table>
<thead>
<tr>
<th>è§£æå·¥å…·</th>
<th>è§£æé€Ÿåº¦</th>
<th>ä½¿ç”¨éš¾åº¦</th>
</tr>
</thead>
<tbody>
<tr>
<td>BeautifulSoup</td>
<td>æœ€æ…¢</td>
<td>æœ€ç®€å•</td>
</tr>
<tr>
<td>lxml</td>
<td>å¿«</td>
<td>ç®€å•</td>
</tr>
<tr>
<td>æ­£åˆ™</td>
<td>æœ€å¿«</td>
<td>æœ€éš¾</td>
</tr>
</tbody>
</table>
<h2 id="ç®€å•ä½¿ç”¨">ç®€å•ä½¿ç”¨ï¼š</h2>
<pre><code class="language-python">from bs4 import BeautifulSoup

html = &quot;&quot;&quot;
&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse's story&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;
&lt;p class=&quot;title&quot; name=&quot;dromouse&quot;&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;
&lt;p class=&quot;story&quot;&gt;Once upon a time there were three little sisters; and their names were
&lt;a href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot; id=&quot;link1&quot;&gt;&lt;!-- Elsie --&gt;&lt;/a&gt;,
&lt;a href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; and
&lt;a href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;;
and they lived at the bottom of a well.&lt;/p&gt;
&lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;
&quot;&quot;&quot;

#åˆ›å»º Beautiful Soup å¯¹è±¡
# ä½¿ç”¨lxmlæ¥è¿›è¡Œè§£æ
soup = BeautifulSoup(html,&quot;lxml&quot;)

print(soup.prettify())
</code></pre>
<h2 id="å››ä¸ªå¸¸ç”¨çš„å¯¹è±¡">å››ä¸ªå¸¸ç”¨çš„å¯¹è±¡ï¼š</h2>
<p>Beautiful Soupå°†å¤æ‚HTMLæ–‡æ¡£è½¬æ¢æˆä¸€ä¸ªå¤æ‚çš„æ ‘å½¢ç»“æ„,æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯Pythonå¯¹è±¡,æ‰€æœ‰å¯¹è±¡å¯ä»¥å½’çº³ä¸º4ç§:</p>
<ol>
<li>Tag</li>
<li>NavigatableString</li>
<li>BeautifulSoup</li>
<li>Comment</li>
</ol>
<h3 id="1-tag">1. Tagï¼š</h3>
<p>Tag é€šä¿—ç‚¹è®²å°±æ˜¯ HTML ä¸­çš„ä¸€ä¸ªä¸ªæ ‡ç­¾ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-python">(from bs4 import BeautifulSoup)

html = &quot;&quot;&quot;
&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse's story&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;
&lt;p class=&quot;title&quot; name=&quot;dromouse&quot;&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;
&lt;p class=&quot;story&quot;&gt;Once upon a time there were three little sisters; and their names were
&lt;a href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot; id=&quot;link1&quot;&gt;&lt;!-- Elsie --&gt;&lt;/a&gt;,
&lt;a href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; and
&lt;a href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;;
and they lived at the bottom of a well.&lt;/p&gt;
&lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;
&quot;&quot;&quot;

#åˆ›å»º Beautiful Soup å¯¹è±¡
soup = BeautifulSoup(html,'lxml')


print (soup.title)
# &lt;title&gt;The Dormouse's story&lt;/title&gt;

print (soup.head)
# &lt;head&gt;&lt;title&gt;The Dormouse's story&lt;/title&gt;&lt;/head&gt;

print (soup.a)
# &lt;a class=&quot;sister&quot; href=&quot;http://example.com/elsie&quot; id=&quot;link1&quot;&gt;&lt;!-- Elsie --&gt;&lt;/a&gt;

print( soup.p)
# &lt;p class=&quot;title&quot; name=&quot;dromouse&quot;&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;

print (type(soup.p))
# &lt;class 'bs4.element.Tag'&gt;
</code></pre>
<p>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ soup åŠ æ ‡ç­¾åè½»æ¾åœ°è·å–è¿™äº›æ ‡ç­¾çš„å†…å®¹ï¼Œè¿™äº›å¯¹è±¡çš„ç±»å‹æ˜¯bs4.element.Tagã€‚ä½†æ˜¯æ³¨æ„ï¼Œå®ƒæŸ¥æ‰¾çš„æ˜¯åœ¨æ‰€æœ‰å†…å®¹ä¸­çš„ç¬¬ä¸€ä¸ªç¬¦åˆè¦æ±‚çš„æ ‡ç­¾ã€‚å¦‚æœè¦æŸ¥è¯¢æ‰€æœ‰çš„æ ‡ç­¾ï¼Œåé¢ä¼šè¿›è¡Œä»‹ç»ã€‚<br>
å¯¹äºTagï¼Œå®ƒæœ‰ä¸¤ä¸ªé‡è¦çš„å±æ€§ï¼Œåˆ†åˆ«æ˜¯nameå’Œattrsã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-python">print soup.name
# [document] #soup å¯¹è±¡æœ¬èº«æ¯”è¾ƒç‰¹æ®Šï¼Œå®ƒçš„ name å³ä¸º [document]

print soup.head.name
# head #å¯¹äºå…¶ä»–å†…éƒ¨æ ‡ç­¾ï¼Œè¾“å‡ºçš„å€¼ä¾¿ä¸ºæ ‡ç­¾æœ¬èº«çš„åç§°

print soup.p.attrs
# {'class': ['title'], 'name': 'dromouse'}
# åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æŠŠ p æ ‡ç­¾çš„æ‰€æœ‰å±æ€§æ‰“å°è¾“å‡ºäº†å‡ºæ¥ï¼Œå¾—åˆ°çš„ç±»å‹æ˜¯ä¸€ä¸ªå­—å…¸ã€‚

print soup.p['class'] # soup.p.get('class')
# ['title'] #è¿˜å¯ä»¥åˆ©ç”¨getæ–¹æ³•ï¼Œä¼ å…¥å±æ€§çš„åç§°ï¼ŒäºŒè€…æ˜¯ç­‰ä»·çš„

soup.p['class'] = &quot;newClass&quot;
print soup.p # å¯ä»¥å¯¹è¿™äº›å±æ€§å’Œå†…å®¹ç­‰ç­‰è¿›è¡Œä¿®æ”¹
# &lt;p class=&quot;newClass&quot; name=&quot;dromouse&quot;&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;
</code></pre>
<h3 id="2-navigablestring">2. NavigableStringï¼š</h3>
<p>å¦‚æœæ‹¿åˆ°æ ‡ç­¾åï¼Œè¿˜æƒ³è·å–æ ‡ç­¾ä¸­çš„å†…å®¹ã€‚é‚£ä¹ˆå¯ä»¥é€šè¿‡<code>tag.string</code>è·å–æ ‡ç­¾ä¸­çš„æ–‡å­—ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-python">print (soup.p.string)
# The Dormouse's story

print (type(soup.p.string))
# &lt;class 'bs4.element.NavigableString'&gt;thon
</code></pre>
<h3 id="3-beautifulsoup">3. BeautifulSoupï¼š</h3>
<p>BeautifulSoup å¯¹è±¡è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªæ–‡æ¡£çš„å…¨éƒ¨å†…å®¹.å¤§éƒ¨åˆ†æ—¶å€™,å¯ä»¥æŠŠå®ƒå½“ä½œ Tag å¯¹è±¡,å®ƒæ”¯æŒ éå†æ–‡æ¡£æ ‘ å’Œ æœç´¢æ–‡æ¡£æ ‘ ä¸­æè¿°çš„å¤§éƒ¨åˆ†çš„æ–¹æ³•.<br>
å› ä¸º BeautifulSoup å¯¹è±¡å¹¶ä¸æ˜¯çœŸæ­£çš„HTMLæˆ–XMLçš„tag,æ‰€ä»¥å®ƒæ²¡æœ‰nameå’Œattributeå±æ€§.ä½†æœ‰æ—¶æŸ¥çœ‹å®ƒçš„ .name å±æ€§æ˜¯å¾ˆæ–¹ä¾¿çš„,æ‰€ä»¥ BeautifulSoup å¯¹è±¡åŒ…å«äº†ä¸€ä¸ªå€¼ä¸º â€œ[document]â€ çš„ç‰¹æ®Šå±æ€§ .name</p>
<pre><code class="language-python">soup.name
# '[document]'
</code></pre>
<h3 id="4-comment">4. Commentï¼š</h3>
<p>Tag , NavigableString , BeautifulSoup å‡ ä¹è¦†ç›–äº†htmlå’Œxmlä¸­çš„æ‰€æœ‰å†…å®¹,ä½†æ˜¯è¿˜æœ‰ä¸€äº›ç‰¹æ®Šå¯¹è±¡.å®¹æ˜“è®©äººæ‹…å¿ƒçš„å†…å®¹æ˜¯æ–‡æ¡£çš„æ³¨é‡Šéƒ¨åˆ†:</p>
<pre><code class="language-python">markup = &quot;&lt;b&gt;&lt;!--Hey, buddy. Want to buy a used parser?--&gt;&lt;/b&gt;&quot;
soup = BeautifulSoup(markup)
comment = soup.b.string
type(comment)
# &lt;class 'bs4.element.Comment'&gt;
</code></pre>
<p>Comment å¯¹è±¡æ˜¯ä¸€ä¸ªç‰¹æ®Šç±»å‹çš„ NavigableString å¯¹è±¡:</p>
<pre><code class="language-python">comment
# 'Hey, buddy. Want to buy a used parser'
</code></pre>
<h2 id="éå†æ–‡æ¡£æ ‘">éå†æ–‡æ¡£æ ‘ï¼š</h2>
<h3 id="1-contentså’Œchildren">1. contentså’Œchildrenï¼š</h3>
<pre><code class="language-python">html_doc = &quot;&quot;&quot;
&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse's story&lt;/title&gt;&lt;/head&gt;

&lt;p class=&quot;title&quot;&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;

&lt;p class=&quot;story&quot;&gt;Once upon a time there were three little sisters; and their names were
&lt;a href=&quot;http://example.com/elsie&quot; class=&quot;sister&quot; id=&quot;link1&quot;&gt;Elsie&lt;/a&gt;,
&lt;a href=&quot;http://example.com/lacie&quot; class=&quot;sister&quot; id=&quot;link2&quot;&gt;Lacie&lt;/a&gt; and
&lt;a href=&quot;http://example.com/tillie&quot; class=&quot;sister&quot; id=&quot;link3&quot;&gt;Tillie&lt;/a&gt;;
and they lived at the bottom of a well.&lt;/p&gt;

&lt;p class=&quot;story&quot;&gt;...&lt;/p&gt;
&quot;&quot;&quot;

from bs4 import BeautifulSoup
soup = BeautifulSoup(html_doc,'lxml')

head_tag = soup.head
# è¿”å›æ‰€æœ‰å­èŠ‚ç‚¹çš„åˆ—è¡¨
print(head_tag.contents)

# è¿”å›æ‰€æœ‰å­èŠ‚ç‚¹çš„è¿­ä»£å™¨
for child in head_tag.children:
    print(child)
</code></pre>
<h3 id="2-strings-å’Œ-stripped_strings">2. strings å’Œ stripped_strings</h3>
<p>å¦‚æœtagä¸­åŒ…å«å¤šä¸ªå­—ç¬¦ä¸² [2] ,å¯ä»¥ä½¿ç”¨ .strings æ¥å¾ªç¯è·å–ï¼š</p>
<pre><code class="language-python">for string in soup.strings:
    print(repr(string))
    # u&quot;The Dormouse's story&quot;
    # u'\n\n'
    # u&quot;The Dormouse's story&quot;
    # u'\n\n'
    # u'Once upon a time there were three little sisters; and their names were\n'
    # u'Elsie'
    # u',\n'
    # u'Lacie'
    # u' and\n'
    # u'Tillie'
    # u';\nand they lived at the bottom of a well.'
    # u'\n\n'
    # u'...'
    # u'\n'
</code></pre>
<p>è¾“å‡ºçš„å­—ç¬¦ä¸²ä¸­å¯èƒ½åŒ…å«äº†å¾ˆå¤šç©ºæ ¼æˆ–ç©ºè¡Œ,ä½¿ç”¨ .stripped_strings å¯ä»¥å»é™¤å¤šä½™ç©ºç™½å†…å®¹ï¼š</p>
<pre><code class="language-python">for string in soup.stripped_strings:
    print(repr(string))
    # u&quot;The Dormouse's story&quot;
    # u&quot;The Dormouse's story&quot;
    # u'Once upon a time there were three little sisters; and their names were'
    # u'Elsie'
    # u','
    # u'Lacie'
    # u'and'
    # u'Tillie'
    # u';\nand they lived at the bottom of a well.'
    # u'...'
</code></pre>
<h3 id="è·å–æ ‡ç­¾å±æ€§">è·å–æ ‡ç­¾å±æ€§</h3>
<p>1.é€šè¿‡ä¸‹æ ‡è·å–</p>
<pre><code class="language-python">href = a['href']
</code></pre>
<p>2.é€šè¿‡attrså±æ€§è·å–</p>
<pre><code class="language-python">href=a.attrs['href']
</code></pre>
<h3 id="å°ç»“">å°ç»“</h3>
<ol>
<li>string: è·å–æŸä¸ªæ ‡ç­¾ä¸‹çš„éæ ‡ç­¾å­—ç¬¦ä¸²ã€‚è¿”å›æ¥çš„æ˜¯ä¸ªå­—ç¬¦ä¸²ã€‚</li>
<li>strings: è·å–æŸä¸ªæ ‡ç­¾ä¸‹çš„å­å­™éæ ‡ç­¾å­—ç¬¦ä¸²ã€‚è¿”å›æ¥çš„æ˜¯ä¸ªç”Ÿæˆå™¨ã€‚</li>
<li>stripped_strings:è·å–æŸä¸ªæ ‡ç­¾ä¸‹çš„å­å­™éæ ‡ç­¾å­—ç¬¦ä¸²ï¼Œä¼šå»æ‰ç©ºç™½å­—ç¬¦ã€‚è¿”å›æ¥çš„<br>
æ˜¯ä¸ªç”Ÿæˆå™¨ã€‚</li>
<li>get_ _text:è·å–æŸä¸ªæ ‡ç­¾ä¸‹çš„å­å­™éæ ‡ç­¾å­—ç¬¦ä¸²ã€‚ä¸æ˜¯ä»¥åˆ—è¡¨çš„å½¢å¼è¿”å›ï¼Œæ˜¯ä»¥æ™®é€šå­—<br>
ç¬¦ä¸²è¿”å›ã€‚</li>
</ol>
<h2 id="æœç´¢æ–‡æ¡£æ ‘">æœç´¢æ–‡æ¡£æ ‘ï¼š</h2>
<h3 id="1-findå’Œfind_allæ–¹æ³•">1. findå’Œfind_allæ–¹æ³•ï¼š</h3>
<p>æœç´¢æ–‡æ¡£æ ‘ï¼Œä¸€èˆ¬ç”¨å¾—æ¯”è¾ƒå¤šçš„å°±æ˜¯ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯<code>find</code>ï¼Œä¸€ä¸ªæ˜¯<code>find_all</code>ã€‚<code>find</code>æ–¹æ³•æ˜¯æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„æ ‡ç­¾åå°±ç«‹å³è¿”å›ï¼Œåªè¿”å›ä¸€ä¸ªå…ƒç´ ã€‚<code>find_all</code>æ–¹æ³•æ˜¯æŠŠæ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„æ ‡ç­¾éƒ½é€‰åˆ°ï¼Œç„¶åè¿”å›å›å»ã€‚ä½¿ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œæœ€å¸¸ç”¨çš„ç”¨æ³•æ˜¯å‡ºå…¥<code>name</code>ä»¥åŠ<code>attr</code>å‚æ•°æ‰¾å‡ºç¬¦åˆè¦æ±‚çš„æ ‡ç­¾ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯find()æ–¹æ³•å¦‚æœç”¨äºæŒ‡å®šç±»åçš„æœç´¢è¯­æ³•é€šå¸¸æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code>find('div',class_='')
</code></pre>
<p>å³classåé¢è¦åŠ ä¸€ä¸ª_ä¸‹åˆ’çº¿æ‰å¯æœç´¢çš„åˆ°ã€‚</p>
<pre><code class="language-python">soup.find_all(&quot;a&quot;,attrs={&quot;id&quot;:&quot;link2&quot;})
</code></pre>
<p>æˆ–è€…æ˜¯ç›´æ¥ä¼ å…¥å±æ€§çš„çš„åå­—ä½œä¸ºå…³é”®å­—å‚æ•°ï¼š</p>
<pre><code class="language-python">soup.find_all(&quot;a&quot;,id='link2')
</code></pre>
<h3 id="2-selectæ–¹æ³•">2. selectæ–¹æ³•ï¼š</h3>
<p>ä½¿ç”¨ä»¥ä¸Šæ–¹æ³•å¯ä»¥æ–¹ä¾¿çš„æ‰¾å‡ºå…ƒç´ ã€‚ä½†æœ‰æ—¶å€™ä½¿ç”¨<code>css</code>é€‰æ‹©å™¨çš„æ–¹å¼å¯ä»¥æ›´åŠ çš„æ–¹ä¾¿ã€‚ä½¿ç”¨<code>css</code>é€‰æ‹©å™¨çš„è¯­æ³•ï¼Œåº”è¯¥ä½¿ç”¨<code>select</code>æ–¹æ³•ã€‚ä»¥ä¸‹åˆ—å‡ºå‡ ç§å¸¸ç”¨çš„<code>css</code>é€‰æ‹©å™¨æ–¹æ³•ï¼š</p>
<h4 id="1é€šè¿‡æ ‡ç­¾åæŸ¥æ‰¾">ï¼ˆ1ï¼‰é€šè¿‡æ ‡ç­¾åæŸ¥æ‰¾ï¼š</h4>
<pre><code class="language-python">print(soup.select('a'))
</code></pre>
<h4 id="2é€šè¿‡ç±»åæŸ¥æ‰¾">ï¼ˆ2ï¼‰é€šè¿‡ç±»åæŸ¥æ‰¾ï¼š</h4>
<p>é€šè¿‡ç±»åï¼Œåˆ™åº”è¯¥åœ¨ç±»çš„å‰é¢åŠ ä¸€ä¸ª<code>.</code>ã€‚æ¯”å¦‚è¦æŸ¥æ‰¾<code>class=sister</code>çš„æ ‡ç­¾ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-python">print(soup.select('.sister'))
</code></pre>
<h4 id="3é€šè¿‡idæŸ¥æ‰¾">ï¼ˆ3ï¼‰é€šè¿‡idæŸ¥æ‰¾ï¼š</h4>
<p>é€šè¿‡idæŸ¥æ‰¾ï¼Œåº”è¯¥åœ¨idçš„åå­—å‰é¢åŠ ä¸€ä¸ªï¼ƒå·ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-python">print(soup.select(&quot;#link1&quot;))
</code></pre>
<h4 id="4ç»„åˆæŸ¥æ‰¾">ï¼ˆ4ï¼‰ç»„åˆæŸ¥æ‰¾ï¼š</h4>
<p>ç»„åˆæŸ¥æ‰¾å³å’Œå†™ class æ–‡ä»¶æ—¶ï¼Œæ ‡ç­¾åä¸ç±»åã€idåè¿›è¡Œçš„ç»„åˆåŸç†æ˜¯ä¸€æ ·çš„ï¼Œä¾‹å¦‚æŸ¥æ‰¾ p æ ‡ç­¾ä¸­ï¼Œid ç­‰äº link1çš„å†…å®¹ï¼ŒäºŒè€…éœ€è¦ç”¨ç©ºæ ¼åˆ†å¼€ï¼š</p>
<pre><code class="language-python">print(soup.select(&quot;p #link1&quot;))
</code></pre>
<p>ç›´æ¥å­æ ‡ç­¾æŸ¥æ‰¾ï¼Œåˆ™ä½¿ç”¨ &gt; åˆ†éš”ï¼š</p>
<pre><code class="language-python">print(soup.select(&quot;head &gt; title&quot;))
</code></pre>
<h4 id="5é€šè¿‡å±æ€§æŸ¥æ‰¾">ï¼ˆ5ï¼‰é€šè¿‡å±æ€§æŸ¥æ‰¾ï¼š</h4>
<p>æŸ¥æ‰¾æ—¶è¿˜å¯ä»¥åŠ å…¥å±æ€§å…ƒç´ ï¼Œå±æ€§éœ€è¦ç”¨ä¸­æ‹¬å·æ‹¬èµ·æ¥ï¼Œæ³¨æ„å±æ€§å’Œæ ‡ç­¾å±äºåŒä¸€èŠ‚ç‚¹ï¼Œæ‰€ä»¥ä¸­é—´ä¸èƒ½åŠ ç©ºæ ¼ï¼Œå¦åˆ™ä¼šæ— æ³•åŒ¹é…åˆ°ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-python">print(soup.select('a[href=&quot;http://example.com/elsie&quot;]'))
</code></pre>
<h4 id="6è·å–å†…å®¹">ï¼ˆ6ï¼‰è·å–å†…å®¹</h4>
<p>ä»¥ä¸Šçš„ select æ–¹æ³•è¿”å›çš„ç»“æœéƒ½æ˜¯åˆ—è¡¨å½¢å¼ï¼Œå¯ä»¥éå†å½¢å¼è¾“å‡ºï¼Œç„¶åç”¨ get_text() æ–¹æ³•æ¥è·å–å®ƒçš„å†…å®¹ã€‚</p>
<pre><code class="language-python">soup = BeautifulSoup(html, 'lxml')
print type(soup.select('title'))
print soup.select('title')[0].get_text()

for title in soup.select('title'):
    print title.get_text()
</code></pre>

                        </div>
                        <section class="post-copyright">

                            <p class="copyright-item">
                                <span>Author:</span>
                                <span>ğŸ’¤ISpiker</span>
                            </p>

                            <p class="copyright-item">
                                <span>Permalink:</span>
                                <span><a href="https://hehelv.github.io//post/5-beautifulsoup4-ku">https://hehelv.github.io//post/5-beautifulsoup4-ku</a></span>
                            </p>

                            <p class="copyright-item">
                                <span>License:</span>
                                <span>MIT License</span>
                            </p>

                        </section>
                        <section class="post-tags">
                            <div>
                                <span>Tag(s):</span>
                                <span class="tag">
                                
                                
                                <a href="https://hehelv.github.io//tag/Spider Note"># Pythonçˆ¬è™«ç¬”è®°</a>
                                
                                
                            </span>
                            </div>
                            <div>
                                <a href="javascript:window.history.back();">back</a>
                                <span>Â·</span>
                                <a href="#">home</a>
                            </div>
                        </section>
                        <section class="post-nav">
                            
                                <a class="prev" rel="prev" href="https://hehelv.github.io//post/6-zheng-ze-biao-da-shi-he-re-mo-kuai">
                                    6-æ­£åˆ™è¡¨è¾¾å¼å’Œreæ¨¡å—
                                </a>
                                
                                    
                                        <a class="next" rel="next" href="https://hehelv.github.io//post/4-xpath-yu-fa-yu-lxml-ku">
                                            4-xpathè¯­æ³•ä¸lxmlåº“
                                        </a>
                                        
                        </section>

                    </article>
                </div>
                
            </div>
    </div>
    </div>

    </div>
    <footer id="footer" class="footer">
    <div class="copyright">
        

            <script>
                var xhr = new XMLHttpRequest();
                xhr.open('get', 'https://v1.hitokoto.cn');
                xhr.onreadystatechange = function() {
                    if (xhr.readyState === 4) {
                        var data = JSON.parse(xhr.responseText);
                        var hitokoto = document.getElementById('hitokoto');
                        hitokoto.innerText = data.hitokoto;
                    }
                }
                xhr.send();
                (function() {
                    var bp = document.createElement('script');
                    var curProtocol = window.location.protocol.split(':')[0];
                    if (curProtocol === 'https') {
                        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
                    } else {
                        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
                    }
                    var s = document.getElementsByTagName("script")[0];
                    s.parentNode.insertBefore(bp, s);
                })();
            </script>
            <b id="hitokoto"></b><br>
            <svg viewBox="0 0 1024 1024" style="margin-left: 5px;margin-right: 5px;" version="1.0" width="8" height="8" class="my-face"><path d="M863.597631 513.574282l-271.33965-140.213484L729.783667 81.926656c3.583731-7.87141 7.167462-15.742819 7.167462-25.214109C736.887134 25.226908 708.345275 0.012799 672.635953 0.012799a63.611229 63.611229 0 0 0-39.293053 12.607055c-1.791866 1.59988-3.519736 3.19976-5.311602 3.19976L147.87531 418.925381a55.547834 55.547834 0 0 0-19.646527 47.356448c1.791866 17.278704 14.27093 33.021523 32.125591 42.492813l271.33965 141.749369L292.504463 945.221908c-12.479064 25.214109-1.791866 53.563983 23.166262 69.306802 10.751194 6.335525 23.230258 9.47129 35.709322 9.47129 16.062795 0 32.125591-4.735645 44.604655-15.742819l480.091993-403.297753a55.547834 55.547834 0 0 0 19.646526-47.228458 61.243407 61.243407 0 0 0-32.12559-44.156688z" fill="#93b5cf"></path></svg>
            <script>
                var date = new Date();
                document.write(" " + date.getFullYear() + "å¹´" + (date.getMonth() + 1) + "æœˆ" + date.getDate() + "æ—¥" + " æ˜ŸæœŸ" + "æ—¥ä¸€äºŒä¸‰å››äº”å…­".charAt(date.getDay()));
            </script> Copyright&copy;
            ğŸ’¤ISpiker | Powered by <a href="https://coding.net" target="_blank">Coding.net</a>

    </div>
</footer>
<script>
    hljs.initHighlighting();
</script>
        </div>
</body>

</html>