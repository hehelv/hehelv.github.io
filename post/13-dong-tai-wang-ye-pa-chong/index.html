<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
<title>
    ğŸ’¤ISpiker
</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
<meta name="author" content="ğŸ’¤ISpiker">
<meta name="description" content="The proof is in the pudding.">
<meta name="keywords" content="The proof is in the pudding.">
<link rel="stylesheet" href="https://hehelv.github.io//media/css/main.css" />
<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet">
<script src="https://hehelv.github.io//media/script/tocbot.min.js"></script>
<script src="https://hehelv.github.io//media/script/script.js"></script>
<!--<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/styles/default.min.css">
<script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/highlight.min.js"></script>-->
<script src="https://cdn.bootcss.com/highlight.js/9.13.1/highlight.min.js"></script>
<link href="https://cdn.bootcss.com/highlight.js/9.13.1/styles/atelier-estuary-dark.min.css" rel="stylesheet">
</head>

<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo">
                <a href="https://hehelv.github.io/">
                    ğŸ’¤ISpiker
                </a>
            </div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/">
                        Home
                    </a>
                    
                    <a class="menu-item" href="/archives">
                        Archives
                    </a>
                    
                    <a class="menu-item" href="/tags">
                        Tags
                    </a>
                    
                    <a class="menu-item" href="/post/about">
                        About
                    </a>
                    
                    <a class="menu-item" href="/tag/algorithm">
                        Algorithm
                    </a>
                    
                    <a class="menu-item" href="/tag/networking">
                        Computer Networking
                    </a>
                    
                    <a class="menu-item" href="/tag/Spider Note">
                        Spider Note
                    </a>
                    
                        <input id="switch_default" type="checkbox" class="switch_default">
                        <label for="switch_default" class="toggleBtn"></label>
            </div>

        </div>
    </nav>

    
        <nav class="navbar-mobile" id="nav-mobile">
            <div class="container">
                <div class="navbar-header">
                    <div>
                        <a href="https://hehelv.github.io/">
                            ğŸ’¤ISpiker
                        </a>
                        <a id="mobile-toggle-theme">&nbsp;Light</a>
                    </div>
                    <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
                </div>
                <div class="menu" id="mobile-menu">
                    
                        <a class="menu-item" href="/">
                            Home
                        </a>
                        
                        <a class="menu-item" href="/archives">
                            Archives
                        </a>
                        
                        <a class="menu-item" href="/tags">
                            Tags
                        </a>
                        
                        <a class="menu-item" href="/post/about">
                            About
                        </a>
                        
                        <a class="menu-item" href="/tag/algorithm">
                            Algorithm
                        </a>
                        
                        <a class="menu-item" href="/tag/networking">
                            Computer Networking
                        </a>
                        
                        <a class="menu-item" href="/tag/Spider Note">
                            Spider Note
                        </a>
                        
                </div>
            </div>
        </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if (toggleMenu.classList.contains("active")) {
            toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        } else {
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
            <div class="main">
                <div class="container">
                    <article class="post-wrap">
                        <header class="post-header">
                            <h1 class="post-title">
                                13-åŠ¨æ€ç½‘é¡µçˆ¬è™«
                            </h1>
                            <div class="post-meta">
                                Author:
                                <a itemprop="author" rel="author" href="/">
                                    ğŸ’¤ISpiker
                                </a>
                                <span class="post-time">
                                Date: <a href="#">2020-03-03</a>
                            </span>
                                
                                    <span class="post-category">
                                Category:
                                
                                <a href="https://hehelv.github.io//tag/Spider Note">Pythonçˆ¬è™«ç¬”è®°</a>
                                
                            </span>
                                    
                            </div>
                        </header>

                        <div class="post-content">
                            <h1 id="13-åŠ¨æ€ç½‘é¡µçˆ¬è™«">13-åŠ¨æ€ç½‘é¡µçˆ¬è™«</h1>
<h2 id="ä»€ä¹ˆæ˜¯ajax">ä»€ä¹ˆæ˜¯AJAXï¼š</h2>
<p>AJAXï¼ˆAsynchronouse JavaScript And XMLï¼‰å¼‚æ­¥JavaScriptå’ŒXMLã€‚è¿‡åœ¨åå°ä¸æœåŠ¡å™¨è¿›è¡Œå°‘é‡æ•°æ®äº¤æ¢ï¼ŒAjax å¯ä»¥ä½¿ç½‘é¡µå®ç°å¼‚æ­¥æ›´æ–°ã€‚è¿™æ„å‘³ç€å¯ä»¥åœ¨ä¸é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œå¯¹ç½‘é¡µçš„æŸéƒ¨åˆ†è¿›è¡Œæ›´æ–°ã€‚ä¼ ç»Ÿçš„ç½‘é¡µï¼ˆä¸ä½¿ç”¨Ajaxï¼‰å¦‚æœéœ€è¦æ›´æ–°å†…å®¹ï¼Œå¿…é¡»é‡è½½æ•´ä¸ªç½‘é¡µé¡µé¢ã€‚å› ä¸ºä¼ ç»Ÿçš„åœ¨ä¼ è¾“æ•°æ®æ ¼å¼æ–¹é¢ï¼Œä½¿ç”¨çš„æ˜¯<code>XML</code>è¯­æ³•ã€‚å› æ­¤å«åš<code>AJAX</code>ï¼Œå…¶å®ç°åœ¨æ•°æ®äº¤äº’åŸºæœ¬ä¸Šéƒ½æ˜¯ä½¿ç”¨<code>JSON</code>ã€‚ä½¿ç”¨AJAXåŠ è½½çš„æ•°æ®ï¼Œå³ä½¿ä½¿ç”¨äº†JSï¼Œå°†æ•°æ®æ¸²æŸ“åˆ°äº†æµè§ˆå™¨ä¸­ï¼Œåœ¨<code>å³é”®-&gt;æŸ¥çœ‹ç½‘é¡µæºä»£ç </code>è¿˜æ˜¯ä¸èƒ½çœ‹åˆ°é€šè¿‡ajaxåŠ è½½çš„æ•°æ®ï¼Œåªèƒ½çœ‹åˆ°ä½¿ç”¨è¿™ä¸ªurlåŠ è½½çš„htmlä»£ç ã€‚</p>
<h2 id="è·å–ajaxæ•°æ®çš„æ–¹å¼">è·å–ajaxæ•°æ®çš„æ–¹å¼ï¼š</h2>
<ol>
<li>ç›´æ¥åˆ†æajaxè°ƒç”¨çš„æ¥å£ã€‚ç„¶åé€šè¿‡ä»£ç è¯·æ±‚è¿™ä¸ªæ¥å£ã€‚</li>
<li>ä½¿ç”¨Selenium+chromedriveræ¨¡æ‹Ÿæµè§ˆå™¨è¡Œä¸ºè·å–æ•°æ®ã€‚</li>
</ol>
<table>
<thead>
<tr>
<th>æ–¹å¼</th>
<th>ä¼˜ç‚¹</th>
<th>ç¼ºç‚¹</th>
</tr>
</thead>
<tbody>
<tr>
<td>åˆ†ææ¥å£</td>
<td>ç›´æ¥å¯ä»¥è¯·æ±‚åˆ°æ•°æ®ã€‚ä¸éœ€è¦åšä¸€äº›è§£æå·¥ä½œã€‚ä»£ç é‡å°‘ï¼Œæ€§èƒ½é«˜ã€‚</td>
<td>åˆ†ææ¥å£æ¯”è¾ƒå¤æ‚ï¼Œç‰¹åˆ«æ˜¯ä¸€äº›é€šè¿‡jsæ··æ·†çš„æ¥å£ï¼Œè¦æœ‰ä¸€å®šçš„jsåŠŸåº•ã€‚å®¹æ˜“è¢«å‘ç°æ˜¯çˆ¬è™«ã€‚</td>
</tr>
<tr>
<td>selenium</td>
<td>ç›´æ¥æ¨¡æ‹Ÿæµè§ˆå™¨çš„è¡Œä¸ºã€‚æµè§ˆå™¨èƒ½è¯·æ±‚åˆ°çš„ï¼Œä½¿ç”¨seleniumä¹Ÿèƒ½è¯·æ±‚åˆ°ã€‚çˆ¬è™«æ›´ç¨³å®šã€‚</td>
<td>ä»£ç é‡å¤šã€‚æ€§èƒ½ä½ã€‚</td>
</tr>
</tbody>
</table>
<h2 id="seleniumchromedriverè·å–åŠ¨æ€æ•°æ®">Selenium+chromedriverè·å–åŠ¨æ€æ•°æ®ï¼š</h2>
<p><code>Selenium</code>ç›¸å½“äºæ˜¯ä¸€ä¸ªæœºå™¨äººã€‚å¯ä»¥æ¨¡æ‹Ÿäººç±»åœ¨æµè§ˆå™¨ä¸Šçš„ä¸€äº›è¡Œä¸ºï¼Œè‡ªåŠ¨å¤„ç†æµè§ˆå™¨ä¸Šçš„ä¸€äº›è¡Œä¸ºï¼Œæ¯”å¦‚ç‚¹å‡»ï¼Œå¡«å……æ•°æ®ï¼Œåˆ é™¤cookieç­‰ã€‚<code>chromedriver</code>æ˜¯ä¸€ä¸ªé©±åŠ¨<code>Chrome</code>æµè§ˆå™¨çš„é©±åŠ¨ç¨‹åºï¼Œä½¿ç”¨ä»–æ‰å¯ä»¥é©±åŠ¨æµè§ˆå™¨ã€‚å½“ç„¶é’ˆå¯¹ä¸åŒçš„æµè§ˆå™¨æœ‰ä¸åŒçš„driverã€‚ä»¥ä¸‹åˆ—å‡ºäº†ä¸åŒæµè§ˆå™¨åŠå…¶å¯¹åº”çš„driverï¼š</p>
<ol>
<li>Chromeï¼šhttps://sites.google.com/a/chromium.org/chromedriver/downloads</li>
<li>Firefoxï¼šhttps://github.com/mozilla/geckodriver/releases</li>
<li>Edgeï¼šhttps://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver/</li>
<li>Safariï¼šhttps://webkit.org/blog/6900/webdriver-support-in-safari-10/</li>
</ol>
<h2 id="å®‰è£…seleniumå’Œchromedriver">å®‰è£…Seleniumå’Œchromedriverï¼š</h2>
<ol>
<li>
<p>å®‰è£…</p>
<pre><code>Selenium
</code></pre>
<p>ï¼š</p>
<pre><code>Selenium
</code></pre>
<p>æœ‰å¾ˆå¤šè¯­è¨€çš„ç‰ˆæœ¬ï¼Œæœ‰javaã€rubyã€pythonç­‰ã€‚æˆ‘ä»¬ä¸‹è½½pythonç‰ˆæœ¬çš„å°±å¯ä»¥äº†ã€‚</p>
<pre><code class="language-shell"> pip install selenium
</code></pre>
</li>
<li>
<p>å®‰è£…<code>chromedriver</code>ï¼šä¸‹è½½å®Œæˆåï¼Œæ”¾åˆ°ä¸éœ€è¦æƒé™çš„çº¯è‹±æ–‡ç›®å½•ä¸‹å°±å¯ä»¥äº†ã€‚</p>
</li>
</ol>
<h3 id="å¿«é€Ÿå…¥é—¨">å¿«é€Ÿå…¥é—¨ï¼š</h3>
<p>ç°åœ¨ä»¥ä¸€ä¸ªç®€å•çš„è·å–ç™¾åº¦é¦–é¡µçš„ä¾‹å­æ¥è®²ä¸‹<code>Selenium</code>å’Œ<code>chromedriver</code>å¦‚ä½•å¿«é€Ÿå…¥é—¨ï¼š</p>
<pre><code class="language-python">from selenium import webdriver

# chromedriverçš„ç»å¯¹è·¯å¾„
driver_path = r'D:\ProgramApp\chromedriver\chromedriver.exe'

# åˆå§‹åŒ–ä¸€ä¸ªdriverï¼Œå¹¶ä¸”æŒ‡å®šchromedriverçš„è·¯å¾„
driver = webdriver.Chrome(executable_path=driver_path)
# è¯·æ±‚ç½‘é¡µ
driver.get(&quot;https://www.baidu.com/&quot;)
# é€šè¿‡page_sourceè·å–ç½‘é¡µæºä»£ç 
print(driver.page_source)
</code></pre>
<h3 id="seleniumå¸¸ç”¨æ“ä½œ">seleniumå¸¸ç”¨æ“ä½œï¼š</h3>
<p>æ›´å¤šæ•™ç¨‹è¯·å‚è€ƒï¼šhttp://selenium-python.readthedocs.io/installation.html#introduction</p>
<h4 id="å…³é—­é¡µé¢">å…³é—­é¡µé¢ï¼š</h4>
<ol>
<li><code>driver.close()</code>ï¼šå…³é—­å½“å‰é¡µé¢ã€‚</li>
<li><code>driver.quit()</code>ï¼šé€€å‡ºæ•´ä¸ªæµè§ˆå™¨ã€‚</li>
</ol>
<h4 id="å®šä½å…ƒç´ ">å®šä½å…ƒç´ ï¼š</h4>
<ol>
<li>
<pre><code>find_element_by_id
</code></pre>
<p>ï¼šæ ¹æ®idæ¥æŸ¥æ‰¾æŸä¸ªå…ƒç´ ã€‚ç­‰ä»·äºï¼š</p>
<pre><code class="language-python"> submitTag = driver.find_element_by_id('su')
 submitTag1 = driver.find_element(By.ID,'su')
</code></pre>
</li>
<li>
<pre><code>find_element_by_class_name
</code></pre>
<p>ï¼šæ ¹æ®ç±»åæŸ¥æ‰¾å…ƒç´ ã€‚ ç­‰ä»·äºï¼š</p>
<pre><code class="language-python"> submitTag = driver.find_element_by_class_name('su')
 submitTag1 = driver.find_element(By.CLASS_NAME,'su')
</code></pre>
</li>
<li>
<pre><code>find_element_by_name
</code></pre>
<p>ï¼šæ ¹æ®nameå±æ€§çš„å€¼æ¥æŸ¥æ‰¾å…ƒç´ ã€‚ç­‰ä»·äºï¼š</p>
<pre><code class="language-python"> submitTag = driver.find_element_by_name('email')
 submitTag1 = driver.find_element(By.NAME,'email')
</code></pre>
</li>
<li>
<pre><code>find_element_by_tag_name
</code></pre>
<p>ï¼šæ ¹æ®æ ‡ç­¾åæ¥æŸ¥æ‰¾å…ƒç´ ã€‚ç­‰ä»·äºï¼š</p>
<pre><code class="language-python"> submitTag = driver.find_element_by_tag_name('div')
 submitTag1 = driver.find_element(By.TAG_NAME,'div')
</code></pre>
</li>
<li>
<pre><code>find_element_by_xpath
</code></pre>
<p>ï¼šæ ¹æ®xpathè¯­æ³•æ¥è·å–å…ƒç´ ã€‚ç­‰ä»·äºï¼š</p>
<pre><code class="language-python"> submitTag = driver.find_element_by_xpath('//div')
 submitTag1 = driver.find_element(By.XPATH,'//div')
</code></pre>
</li>
<li>
<p><code>find_element_by_css_selector</code>ï¼šæ ¹æ®cssé€‰æ‹©å™¨é€‰æ‹©å…ƒç´ ã€‚ç­‰ä»·äºï¼š</p>
<pre><code class="language-python"> submitTag = driver.find_element_by_css_selector('//div')
 submitTag1 = driver.find_element(By.CSS_SELECTOR,'//div')
</code></pre>
<p>è¦æ³¨æ„ï¼Œ<code>find_element</code>æ˜¯è·å–ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å…ƒç´ ã€‚<code>find_elements</code>æ˜¯è·å–æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ã€‚</p>
</li>
</ol>
<h4 id="æ“ä½œè¡¨å•å…ƒç´ ">æ“ä½œè¡¨å•å…ƒç´ ï¼š</h4>
<ol>
<li>
<p>æ“ä½œè¾“å…¥æ¡†ï¼šåˆ†ä¸ºä¸¤æ­¥ã€‚ç¬¬ä¸€æ­¥ï¼šæ‰¾åˆ°è¿™ä¸ªå…ƒç´ ã€‚ç¬¬äºŒæ­¥ï¼šä½¿ç”¨<code>send_keys(value)</code>ï¼Œå°†æ•°æ®å¡«å……è¿›å»ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-python"> inputTag = driver.find_element_by_id('kw')
 inputTag.send_keys('python')
</code></pre>
<p>ä½¿ç”¨<code>clear</code>æ–¹æ³•å¯ä»¥æ¸…é™¤è¾“å…¥æ¡†ä¸­çš„å†…å®¹ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-python"> inputTag.clear()
</code></pre>
</li>
<li>
<p>æ“ä½œcheckboxï¼šå› ä¸ºè¦é€‰ä¸­<code>checkbox</code>æ ‡ç­¾ï¼Œåœ¨ç½‘é¡µä¸­æ˜¯é€šè¿‡é¼ æ ‡ç‚¹å‡»çš„ã€‚å› æ­¤æƒ³è¦é€‰ä¸­<code>checkbox</code>æ ‡ç­¾ï¼Œé‚£ä¹ˆå…ˆé€‰ä¸­è¿™ä¸ªæ ‡ç­¾ï¼Œç„¶åæ‰§è¡Œ<code>click</code>äº‹ä»¶ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-python"> rememberTag = driver.find_element_by_name(&quot;rememberMe&quot;)
 rememberTag.click()
</code></pre>
</li>
<li>
<p>é€‰æ‹©selectï¼šselectå…ƒç´ ä¸èƒ½ç›´æ¥ç‚¹å‡»ã€‚å› ä¸ºç‚¹å‡»åè¿˜éœ€è¦é€‰ä¸­å…ƒç´ ã€‚è¿™æ—¶å€™seleniumå°±ä¸“é—¨ä¸ºselectæ ‡ç­¾æä¾›äº†ä¸€ä¸ªç±»<code>selenium.webdriver.support.ui.Select</code>ã€‚å°†è·å–åˆ°çš„å…ƒç´ å½“æˆå‚æ•°ä¼ åˆ°è¿™ä¸ªç±»ä¸­ï¼Œåˆ›å»ºè¿™ä¸ªå¯¹è±¡ã€‚ä»¥åå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªå¯¹è±¡è¿›è¡Œé€‰æ‹©äº†ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-python"> from selenium.webdriver.support.ui import Select
 # é€‰ä¸­è¿™ä¸ªæ ‡ç­¾ï¼Œç„¶åä½¿ç”¨Selectåˆ›å»ºå¯¹è±¡
 selectTag = Select(driver.find_element_by_name(&quot;jumpMenu&quot;))
 # æ ¹æ®ç´¢å¼•é€‰æ‹©
 selectTag.select_by_index(1)
 # æ ¹æ®å€¼é€‰æ‹©
 selectTag.select_by_value(&quot;http://www.95yueba.com&quot;)
 # æ ¹æ®å¯è§†çš„æ–‡æœ¬é€‰æ‹©
 selectTag.select_by_visible_text(&quot;95ç§€å®¢æˆ·ç«¯&quot;)
 # å–æ¶ˆé€‰ä¸­æ‰€æœ‰é€‰é¡¹
 selectTag.deselect_all()
</code></pre>
</li>
<li>
<p>æ“ä½œæŒ‰é’®ï¼šæ“ä½œæŒ‰é’®æœ‰å¾ˆå¤šç§æ–¹å¼ã€‚æ¯”å¦‚å•å‡»ã€å³å‡»ã€åŒå‡»ç­‰ã€‚è¿™é‡Œè®²ä¸€ä¸ªæœ€å¸¸ç”¨çš„ã€‚å°±æ˜¯ç‚¹å‡»ã€‚ç›´æ¥è°ƒç”¨<code>click</code>å‡½æ•°å°±å¯ä»¥äº†ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-python"> inputTag = driver.find_element_by_id('su')
 inputTag.click()
</code></pre>
</li>
</ol>
<h4 id="è¡Œä¸ºé“¾">è¡Œä¸ºé“¾ï¼š</h4>
<p>æœ‰æ—¶å€™åœ¨é¡µé¢ä¸­çš„æ“ä½œå¯èƒ½è¦æœ‰å¾ˆå¤šæ­¥ï¼Œé‚£ä¹ˆè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨é¼ æ ‡è¡Œä¸ºé“¾ç±»<code>ActionChains</code>æ¥å®Œæˆã€‚æ¯”å¦‚ç°åœ¨è¦å°†é¼ æ ‡ç§»åŠ¨åˆ°æŸä¸ªå…ƒç´ ä¸Šå¹¶æ‰§è¡Œç‚¹å‡»äº‹ä»¶ã€‚é‚£ä¹ˆç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-python">inputTag = driver.find_element_by_id('kw')
submitTag = driver.find_element_by_id('su')

actions = ActionChains(driver)
actions.move_to_element(inputTag)
actions.send_keys_to_element(inputTag,'python')
actions.move_to_element(submitTag)
actions.click(submitTag)
actions.perform()
</code></pre>
<p>è¿˜æœ‰æ›´å¤šçš„é¼ æ ‡ç›¸å…³çš„æ“ä½œã€‚</p>
<ul>
<li>click_and_hold(element)ï¼šç‚¹å‡»ä½†ä¸æ¾å¼€é¼ æ ‡ã€‚</li>
<li>context_click(element)ï¼šå³é”®ç‚¹å‡»ã€‚</li>
<li>double_click(element)ï¼šåŒå‡»ã€‚ æ›´å¤šæ–¹æ³•è¯·å‚è€ƒï¼šhttp://selenium-python.readthedocs.io/api.html</li>
</ul>
<h4 id="cookieæ“ä½œ">Cookieæ“ä½œï¼š</h4>
<ol>
<li>
<p>è·å–æ‰€æœ‰çš„</p>
<pre><code>cookie
</code></pre>
<p>ï¼š</p>
<pre><code class="language-python"> for cookie in driver.get_cookies():
     print(cookie)
</code></pre>
</li>
<li>
<p>æ ¹æ®cookieçš„keyè·å–valueï¼š</p>
<pre><code class="language-python"> value = driver.get_cookie(key)
</code></pre>
</li>
<li>
<p>åˆ é™¤æ‰€æœ‰çš„cookieï¼š</p>
<pre><code class="language-python"> driver.delete_all_cookies()
</code></pre>
</li>
<li>
<p>åˆ é™¤æŸä¸ª</p>
<pre><code>cookie
</code></pre>
<p>ï¼š</p>
<pre><code class="language-python"> driver.delete_cookie(key)
</code></pre>
</li>
</ol>
<h4 id="é¡µé¢ç­‰å¾…">é¡µé¢ç­‰å¾…ï¼š</h4>
<p>ç°åœ¨çš„ç½‘é¡µè¶Šæ¥è¶Šå¤šé‡‡ç”¨äº† Ajax æŠ€æœ¯ï¼Œè¿™æ ·ç¨‹åºä¾¿ä¸èƒ½ç¡®å®šä½•æ—¶æŸä¸ªå…ƒç´ å®Œå…¨åŠ è½½å‡ºæ¥äº†ã€‚å¦‚æœå®é™…é¡µé¢ç­‰å¾…æ—¶é—´è¿‡é•¿å¯¼è‡´æŸä¸ªdomå…ƒç´ è¿˜æ²¡å‡ºæ¥ï¼Œä½†æ˜¯ä½ çš„ä»£ç ç›´æ¥ä½¿ç”¨äº†è¿™ä¸ªWebElementï¼Œé‚£ä¹ˆå°±ä¼šæŠ›å‡ºNullPointerçš„å¼‚å¸¸ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æ‰€ä»¥ Selenium æä¾›äº†ä¸¤ç§ç­‰å¾…æ–¹å¼ï¼šä¸€ç§æ˜¯éšå¼ç­‰å¾…ã€ä¸€ç§æ˜¯æ˜¾å¼ç­‰å¾…ã€‚</p>
<ol>
<li>
<p>éšå¼ç­‰å¾…ï¼šè°ƒç”¨<code>driver.implicitly_wait</code>ã€‚é‚£ä¹ˆåœ¨è·å–ä¸å¯ç”¨çš„å…ƒç´ ä¹‹å‰ï¼Œä¼šå…ˆç­‰å¾…10ç§’ä¸­çš„æ—¶é—´ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-python">driver = webdriver.Chrome(executable_path=driver_path)
driver.implicitly_wait(10)
# è¯·æ±‚ç½‘é¡µ
driver.get(&quot;https://www.douban.com/&quot;)
</code></pre>
</li>
<li>
<p>æ˜¾ç¤ºç­‰å¾…ï¼šæ˜¾ç¤ºç­‰å¾…æ˜¯è¡¨æ˜æŸä¸ªæ¡ä»¶æˆç«‹åæ‰æ‰§è¡Œè·å–å…ƒç´ çš„æ“ä½œã€‚ä¹Ÿå¯ä»¥åœ¨ç­‰å¾…çš„æ—¶å€™æŒ‡å®šä¸€ä¸ªæœ€å¤§çš„æ—¶é—´ï¼Œå¦‚æœè¶…è¿‡è¿™ä¸ªæ—¶é—´é‚£ä¹ˆå°±æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚æ˜¾ç¤ºç­‰å¾…åº”è¯¥ä½¿ç”¨<code>selenium.webdriver.support.excepted_conditions</code>æœŸæœ›çš„æ¡ä»¶å’Œ<code>selenium.webdriver.support.ui.WebDriverWait</code>æ¥é…åˆå®Œæˆã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-python"> from selenium import webdriver
 from selenium.webdriver.common.by import By
 from selenium.webdriver.support.ui import WebDriverWait
 from selenium.webdriver.support import expected_conditions as EC

 driver = webdriver.Firefox()
 driver.get(&quot;http://somedomain/url_that_delays_loading&quot;)
 try:
     element = WebDriverWait(driver, 10).until(
         EC.presence_of_element_located((By.ID, &quot;myDynamicElement&quot;))
     )
 finally:
     driver.quit()
</code></pre>
</li>
<li>
<p>ä¸€äº›å…¶ä»–çš„ç­‰å¾…æ¡ä»¶ï¼š</p>
<ul>
<li>
<p>presence_of_element_locatedï¼šæŸä¸ªå…ƒç´ å·²ç»åŠ è½½å®Œæ¯•äº†ã€‚</p>
</li>
<li>
<p>presence_of_all_emement_locatedï¼šç½‘é¡µä¸­æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„å…ƒç´ éƒ½åŠ è½½å®Œæ¯•äº†ã€‚</p>
</li>
<li>
<p>element_to_be_cliableï¼šæŸä¸ªå…ƒç´ æ˜¯å¯ä»¥ç‚¹å‡»äº†ã€‚</p>
<p>æ›´å¤šæ¡ä»¶è¯·å‚è€ƒï¼šhttp://selenium-python.readthedocs.io/waits.html</p>
</li>
</ul>
</li>
</ol>
<h4 id="åˆ‡æ¢é¡µé¢">åˆ‡æ¢é¡µé¢ï¼š</h4>
<p>æœ‰æ—¶å€™çª—å£ä¸­æœ‰å¾ˆå¤šå­tabé¡µé¢ã€‚è¿™æ—¶å€™è‚¯å®šæ˜¯éœ€è¦è¿›è¡Œåˆ‡æ¢çš„ã€‚<code>selenium</code>æä¾›äº†ä¸€ä¸ªå«åš<code>switch_to_window</code>æ¥è¿›è¡Œåˆ‡æ¢ï¼Œå…·ä½“åˆ‡æ¢åˆ°å“ªä¸ªé¡µé¢ï¼Œå¯ä»¥ä»<code>driver.window_handles</code>ä¸­æ‰¾åˆ°ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-python"># æ‰“å¼€ä¸€ä¸ªæ–°çš„é¡µé¢
self.driver.execute_script(&quot;window.open('&quot;+url+&quot;')&quot;)
# åˆ‡æ¢åˆ°è¿™ä¸ªæ–°çš„é¡µé¢ä¸­
self.driver.switch_to_window(self.driver.window_handles[1])
</code></pre>
<h4 id="è®¾ç½®ä»£ç†ip">è®¾ç½®ä»£ç†ipï¼š</h4>
<p>æœ‰æ—¶å€™é¢‘ç¹çˆ¬å–ä¸€äº›ç½‘é¡µã€‚æœåŠ¡å™¨å‘ç°ä½ æ˜¯çˆ¬è™«åä¼šå°æ‰ä½ çš„ipåœ°å€ã€‚è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥æ›´æ”¹ä»£ç†ipã€‚æ›´æ”¹ä»£ç†ipï¼Œä¸åŒçš„æµè§ˆå™¨æœ‰ä¸åŒçš„å®ç°æ–¹å¼ã€‚è¿™é‡Œä»¥<code>Chrome</code>æµè§ˆå™¨ä¸ºä¾‹æ¥è®²è§£ï¼š</p>
<pre><code class="language-python">from selenium import webdriver

options = webdriver.ChromeOptions()
options.add_argument(&quot;--proxy-server=http://110.73.2.248:8123&quot;)
driver_path = r&quot;D:\ProgramApp\chromedriver\chromedriver.exe&quot;
driver = webdriver.Chrome(executable_path=driver_path,chrome_options=options)

driver.get('http://httpbin.org/ip')
</code></pre>
<h4 id="webelementå…ƒç´ "><code>WebElement</code>å…ƒç´ ï¼š</h4>
<p><code>from selenium.webdriver.remote.webelement import WebElement</code>ç±»æ˜¯æ¯ä¸ªè·å–å‡ºæ¥çš„å…ƒç´ çš„æ‰€å±ç±»ã€‚<br>
æœ‰ä¸€äº›å¸¸ç”¨çš„å±æ€§ï¼š</p>
<ol>
<li>get_attributeï¼šè¿™ä¸ªæ ‡ç­¾çš„æŸä¸ªå±æ€§çš„å€¼ã€‚</li>
<li>screentshotï¼šè·å–å½“å‰é¡µé¢çš„æˆªå›¾ã€‚è¿™ä¸ªæ–¹æ³•åªèƒ½åœ¨<code>driver</code>ä¸Šä½¿ç”¨ã€‚<br>
<code>driver</code>çš„å¯¹è±¡ç±»ï¼Œä¹Ÿæ˜¯ç»§æ‰¿è‡ª<code>WebElement</code>ã€‚<br>
æ›´å¤šè¯·é˜…è¯»ç›¸å…³æºä»£ç ã€‚</li>
</ol>

                        </div>
                        <section class="post-copyright">

                            <p class="copyright-item">
                                <span>Author:</span>
                                <span>ğŸ’¤ISpiker</span>
                            </p>

                            <p class="copyright-item">
                                <span>Permalink:</span>
                                <span><a href="https://hehelv.github.io//post/13-dong-tai-wang-ye-pa-chong">https://hehelv.github.io//post/13-dong-tai-wang-ye-pa-chong</a></span>
                            </p>

                            <p class="copyright-item">
                                <span>License:</span>
                                <span>MIT License</span>
                            </p>

                        </section>
                        <section class="post-tags">
                            <div>
                                <span>Tag(s):</span>
                                <span class="tag">
                                
                                
                                <a href="https://hehelv.github.io//tag/Spider Note"># Pythonçˆ¬è™«ç¬”è®°</a>
                                
                                
                            </span>
                            </div>
                            <div>
                                <a href="javascript:window.history.back();">back</a>
                                <span>Â·</span>
                                <a href="#">home</a>
                            </div>
                        </section>
                        <section class="post-nav">
                            
                                <a class="prev" rel="prev" href="https://hehelv.github.io//post/13-tu-xing-yan-zheng-ma-shi-bie">
                                    14-å›¾å½¢éªŒè¯ç è¯†åˆ«
                                </a>
                                
                                    
                                        <a class="next" rel="next" href="https://hehelv.github.io//post/1-duo-xian-cheng-pa-chong">
                                            12-å¤šçº¿ç¨‹çˆ¬è™«
                                        </a>
                                        
                        </section>

                    </article>
                </div>
                
            </div>
    </div>
    </div>

    </div>
    <footer id="footer" class="footer">
    <div class="copyright">
        

            <script>
                var xhr = new XMLHttpRequest();
                xhr.open('get', 'https://v1.hitokoto.cn');
                xhr.onreadystatechange = function() {
                    if (xhr.readyState === 4) {
                        var data = JSON.parse(xhr.responseText);
                        var hitokoto = document.getElementById('hitokoto');
                        hitokoto.innerText = data.hitokoto;
                    }
                }
                xhr.send();
                (function() {
                    var bp = document.createElement('script');
                    var curProtocol = window.location.protocol.split(':')[0];
                    if (curProtocol === 'https') {
                        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
                    } else {
                        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
                    }
                    var s = document.getElementsByTagName("script")[0];
                    s.parentNode.insertBefore(bp, s);
                })();
            </script>
            <b id="hitokoto"></b><br>
            <svg viewBox="0 0 1024 1024" style="margin-left: 5px;margin-right: 5px;" version="1.0" width="8" height="8" class="my-face"><path d="M863.597631 513.574282l-271.33965-140.213484L729.783667 81.926656c3.583731-7.87141 7.167462-15.742819 7.167462-25.214109C736.887134 25.226908 708.345275 0.012799 672.635953 0.012799a63.611229 63.611229 0 0 0-39.293053 12.607055c-1.791866 1.59988-3.519736 3.19976-5.311602 3.19976L147.87531 418.925381a55.547834 55.547834 0 0 0-19.646527 47.356448c1.791866 17.278704 14.27093 33.021523 32.125591 42.492813l271.33965 141.749369L292.504463 945.221908c-12.479064 25.214109-1.791866 53.563983 23.166262 69.306802 10.751194 6.335525 23.230258 9.47129 35.709322 9.47129 16.062795 0 32.125591-4.735645 44.604655-15.742819l480.091993-403.297753a55.547834 55.547834 0 0 0 19.646526-47.228458 61.243407 61.243407 0 0 0-32.12559-44.156688z" fill="#93b5cf"></path></svg>
            <script>
                var date = new Date();
                document.write(" " + date.getFullYear() + "å¹´" + (date.getMonth() + 1) + "æœˆ" + date.getDate() + "æ—¥" + " æ˜ŸæœŸ" + "æ—¥ä¸€äºŒä¸‰å››äº”å…­".charAt(date.getDay()));
            </script> Copyright&copy;
            ğŸ’¤ISpiker | Powered by <a href="https://coding.net" target="_blank">Coding.net</a>

    </div>
</footer>
<script>
    hljs.initHighlighting();
</script>
        </div>
</body>

</html>